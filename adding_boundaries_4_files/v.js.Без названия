(function(){function I(){try{if(window.top==window)return r.NO_IFRAME;for(var a=window,f=0;a.parent!=a&&1E3>f;){f++;if(a.parent.document.domain!=a.document.domain)return r.XD_IFRAME;a=a.parent}return r.IFRAME}catch(n){}return r.XD_IFRAME}function F(a,f,n,e){var b=document.createElement('script');b.src=a;b.type='text/javascript';b.onerror=function(){n()};b.onload=function(){this.executed||(this.executed=!0,f())};b.onreadystatechange=function(){var b=this;('complete'==this.readyState||'loaded'==this.readyState)&&
setTimeout(function(){b.onload()},0)};e.appendChild(b)}function y(a,f){try{var n=new Image;n.src=a+f}catch(e){return e}}function B(){log('GeometryCheck');v=setInterval(C,p);document.addEventListener(s,C,!1)}function C(){setInView(q.VIEWABILITY_API,checkGeometry(k))}function J(){getViewPortSize=function(a){var e={width:Infinity,height:Infinity,area:Infinity};!isNaN(a.document.body.clientWidth)&&0<a.document.body.clientWidth&&(e.width=a.document.body.clientWidth);!isNaN(a.document.body.clientHeight)&&
0<a.document.body.clientHeight&&(e.height=a.document.body.clientHeight);a.document.documentElement&&(a.document.documentElement.clientWidth&&!isNaN(a.document.documentElement.clientWidth))&&(e.width=a.document.documentElement.clientWidth);a.document.documentElement&&(a.document.documentElement.clientHeight&&!isNaN(a.document.documentElement.clientHeight))&&(e.height=a.document.documentElement.clientHeight);a.innerWidth&&!isNaN(a.innerWidth)&&(e.width=Math.min(e.width,a.innerWidth));a.innerHeight&&
!isNaN(a.innerHeight)&&(e.height=Math.min(e.height,a.innerHeight));e.area=e.height*e.width;return e};this.getViewabilityState=function(f,e){var b,g=getViewPortSize(window),c=g.area;for(b=window;b!=window.top;)b=b.parent,viewPortSize=getViewPortSize(b),viewPortSize.area<c&&(c=viewPortSize.area,g=viewPortSize);b=g;if(Infinity==b.area)return{error:'Failed to determine viewport'};g=f.getBoundingClientRect();c=g.width*g.height;if(0.5>b.area/c)c=Math.floor(100*b.area/c);else{var d=getViewPortSize(window.top);
b=a(f,e);b.bottom>d.height&&(b.height-=b.bottom-d.height);0>b.top&&(b.height+=b.top);0>b.left&&(b.width+=b.left);b.right>d.width&&(b.width-=b.right-d.width);c=Math.floor(100*b.width*b.height/c)}return{clientWidth:d.width,clientHeight:d.height,objTop:g.top,objBottom:g.bottom,objLeft:g.left,objRight:g.right,percentViewable:c}};var a=function(d,e){var b=e,g=e.parent,c={width:0,height:0,left:0,right:0,top:0,bottom:0};d&&(c=f(d,e),c.width=c.right-c.left,c.height=c.bottom-c.top,b!=g&&(b=a(b.frameElement,
g),b.bottom<c.bottom&&(b.bottom<c.top&&(c.top=b.bottom),c.bottom=b.bottom),b.right<c.right&&(b.right<c.left&&(c.left=b.right),c.right=b.right),c.width=c.right-c.left,c.height=c.bottom-c.top));return c},f=function(a,e){var b=e,g=e.parent,c={left:0,right:0,top:0,bottom:0};if(a){var d=a.getBoundingClientRect();b!=g&&(c=f(b.frameElement,g));c={left:d.left+c.left,right:d.right+c.left,top:d.top+c.top,bottom:d.bottom+c.top}}return c}}var q={NOT_WORK:0,FLASH:1,REPAINT_COUNT:2,VIEWABILITY_API:3,MOBILE_APP:4,
INTERSECTION_OBSERVER:5,IAS:6,RAF_THROTTLE:7},r={NO_IFRAME:0,IFRAME:1,UNKNOWN:2,XD_IFRAME:3};log=function(a){};var D=0.5,K=1100,L=5E3,p=200,G=!1,E=q.NOT_WORK,z=null,l,h,m,k,d,A,M=new J,w=I();log('ifrmType: '+w);var v,H,N='undefined'!==typeof __GetI_context&&'app'==__GetI_context,x='undefined'==typeof __GetI_domain?'px.adhigh.net':__GetI_domain,O='undefined'==typeof __GetI_static_domain?x:__GetI_static_domain,t,s;'undefined'!==typeof document.hidden?(t='hidden',s='visibilitychange'):'undefined'!==
typeof document.mozHidden?(t='mozHidden',s='mozvisibilitychange'):'undefined'!==typeof document.msHidden?(t='msHidden',s='msvisibilitychange'):'undefined'!==typeof document.webkitHidden&&(t='webkitHidden',s='webkitvisibilitychange');var u='undefined'==typeof __GetI_protocol?'':__GetI_protocol,u='https'==u||'https:'==document.location.protocol?'https://':'http://';isInFocus=function(){return'undefined'!==document[t]&&!0===document[t]?!1:w==r.XD_IFRAME||N?!0:window.top.document.hasFocus?window.top.document.hasFocus():
!0};checkGeometry=function(a){return w==r.XD_IFRAME||M.getViewabilityState(a,window).percentViewable>=100*D};gi_tc=function(a){setInView(q.FLASH,'true'==a)};setInView=function(a,d){E=a;G=d;checkViewability()};checkViewability=function(){G&&isInFocus()?null==z?z=new Date:(new Date).getTime()-z>=K&&(generate_imp(E),cleanup(E)):z=null};H=setInterval(checkViewability,p);generate_imp=function(a){if(!l.fired){l.fired=!0;log('VIEW:'+a);var d='cb\x3d'+(new Date).getTime()+'\x26b\x3d'+encodeURIComponent(l.bidResponse),
d=d+('\x26f\x3d'+a+'\x26fr\x3d'+w);pix(x,'/p/v_imp',d,!0)}};cleanup=function(a){clearInterval(v);clearInterval(H);document.removeEventListener(s,C,!1);try{a==q.INTERSECTION_OBSERVER&&A?A.unobserve(k):a==q.FLASH&&(h.giGwStop(),swfobject.removeSWF(h.id))}catch(f){}d&&m.removeChild(d);m.style.width=0;m.style.height=0;m.style.display='none'};var P=function(a){if(a){var d=a.iasId;if(d){var h=a.campId,e=a.ssp,b=a.evId;a=a.bidResponse;var g=pixUrl(x,'/p/v_msc','s\x3d'+e+'\x26b\x3d'+a);window['__GetIAS_'+
b]=function(a,b){y(g,'\x26ist\x3d'+a+'\x26iasImpId\x3d'+b.iasImpId)};try{F(u+'pixel.adsafeprotected.com/jload?anId\x3d'+d+'\x26adsafe_par\x26advId\x3d\x26campId\x3d'+h+'\x26creativeId\x3d\x26pubId\x3d\x26chanId\x3d'+e+'\x26placementId\x3d\x26impId\x3d'+b,function(){y(g,'\x26ist\x3dinj')},function(){y(g,'\x26ist\x3derr')},k)}catch(c){y(g,'\x26ist\x3dexc')}}}};__GetI_vt_main=function(){l=__GetI_vt.pop();h=document.getElementById('gw_'+l.evId);m=document.getElementById('gw_wrapper_'+l.evId);k=document.getElementById('__GetI_div_'+
l.evId);P(l);var a=(new UAParser).getResult();if('Trident'==a.engine.name&&11>a.browser.version){var f=document.getElementById('gw_center_'+l.evId);k.style.width='2px';k.style.height='1px';k.style.left=f.style.left;k.style.top=f.style.top;f.style.left=0;f.style.top=0}if('function'===typeof IntersectionObserver)log('IntersectionObserver'),a=function(a){a.forEach(function(a){a=a.intersectionRect.width*a.intersectionRect.height/(a.boundingClientRect.width*a.boundingClientRect.height)>=D;setInView(q.INTERSECTION_OBSERVER,
a)})},A=new IntersectionObserver(a,{threshold:[D]}),A.observe(k);else if('Gecko'==a.engine.name)log('Gecko'),'undefined'!==window.mozPaintCount&&(k.mzpc=0,v=setInterval(function(){var a=window.mozPaintCount;setInView(q.REPAINT_COUNT,a>k.mzpc&&checkGeometry(k));m.style.width='1px'==m.style.width?'2px':'1px';k.mzpc=a},p));else if(w==r.XD_IFRAME)if('Trident'==a.engine.name||'EdgeHTML'==a.engine.name||'undefined'==window.requestAnimationFrame)if(log('Beacon'),'undefined'!=typeof swfobject&&swfobject.hasFlashPlayerVersion('10')){f=
{allowscriptaccess:'always',wmode:'opaque'};'WebKit'==a.engine.name?swfobject.embedSWF(u+x+'/gw.swf?ua\x3dwk\x26cb\x3d'+(new Date).getTime()+'\x26ms\x3d'+p,h.id,'1px','1px','9',null,null,f):('Trident'==a.engine.name||'EdgeHTML'==a.engine.name)&&swfobject.embedSWF(u+x+'/gw.swf?ua\x3die\x26cb\x3d'+(new Date).getTime()+'\x26ms\x3d'+p,h.id,'100%','100%','9',null,null,f);var n,e=new Date;n=setInterval(function(){h=document.getElementById('gw_'+l.evId);'function'===typeof h.giGwUa&&(log('Flash '+h.giGwUa()),
clearInterval(n),'wk'==h.giGwUa()?(setTimeout(function(){h.width=2},150),setTimeout(function(){h.width=1},300)):'ie'==h.giGwUa()&&(v=setInterval(function(){m.style.width='1px'==m.style.width?'2px':'1px'},1E3/11)));if((new Date).getTime()-e.getTime()>=L){log('flash failed');clearInterval(n);B();try{swfobject.removeSWF(h.id)}catch(a){}}},p)}else B();else log('RaF. '+a.engine.name),d=document.createElement('iframe'),d.style.width='1px',d.style.height='1px',d.frameBorder=0,d.style.position='absolute',
d.style.pointerEvents='none',d.src='javascript: window.giLastRepaintCount\x3d0; window.giRepaintCount\x3d0; setTimeout(function() {document.body.innerHTML \x3d ""; var d \x3d document.createElement("div"); d.id\x3d"ifr1"; d.style.height\x3d"1px"; document.body.insertBefore(d, document.body.firstChild);},100);setTimeout(function() {setInterval(function() {var d\x3ddocument.getElementById("ifr1"); d.style.width \x3d d.style.width \x3d\x3d "1px" ? "2px" : "1px";},'+p+');function repaint(ts) { window.giRepaintCount++; window.requestAnimationFrame(repaint); }; window.requestAnimationFrame(repaint)}, 200); true;',
m.appendChild(d),v=setInterval(function(){try{var a=d.contentWindow.giRepaintCount;log('RaF: '+(a-d.contentWindow.giLastRepaintCount));d.style.width='1px'==d.style.width?'2px':'1px';setInView(q.RAF_THROTTLE,a>d.contentWindow.giLastRepaintCount+1);d.contentWindow.giLastRepaintCount=a}catch(e){log(e.toString())}},p);else B()};F(u+O+'/ua-parser.min.js',__GetI_vt_main,function(){log('ua_parser_load_error')},document.body)})();